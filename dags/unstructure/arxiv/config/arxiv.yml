# Arxiv Pipeline Configuration

arxiv:
  # Connection Settings
  base_url: "https://export.arxiv.org/api/query"
  timeout_seconds: 30

  # Search Settings
  search_category: "cs.AI" 
  max_results: 3
  rate_limit_delay: 3

  # XML Namespaces
  namespaces:
    atom: "http://www.w3.org/2005/Atom"
    opensearch: "http://a9.com/-/spec/opensearch/1.1/"
    arxiv: "http://arxiv.org/schemas/atom"

  # Downloader Settings
  download_dir: "/tmp/aiplatform/arxiv/downloads"
  max_retries: 3
  retry_backoff: 2

docling:
  # Transformer Settings
  index_name: "arxiv_papers" # Added here so PDFTransformer can use transform()
  pdf_dir: "/tmp/aiplatform/arxiv"
  max_pages: 10
  max_file_size_mb: 10
  max_concurrency: 4
  do_ocr: false
  do_table_structure: false

chunker:
  # Text Chunking Settings
  index_name: "arxiv_papers" # ADDED: BaseTransformer will now see this!
  chunk_size: 600
  overlap_size: 120
  min_chunk_size: 150

elasticsearch:
  load:
    index_name: "arxiv_papers" # KEPT: Loader still needs this
    settings:
      index:
        number_of_shards: 1
        number_of_replicas: 0
      analysis:
        analyzer:
          arxiv_analyzer:
            type: custom
            tokenizer: standard
            filter: ["lowercase", "stop", "snowball"]
    mappings:
      dynamic: true
      properties:
        title: {type: text, analyzer: arxiv_analyzer}
        abstract: {type: text, analyzer: arxiv_analyzer}
        text: {type: text, analyzer: arxiv_analyzer}
        vector: {type: dense_vector, dims: 384}